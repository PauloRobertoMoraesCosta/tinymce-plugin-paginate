<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes_Display.js.html":{"id":"classes_Display.js.html","title":"Source: classes/Display.js","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Source: classes/Display.js 'use strict'; /** * Create the test DPI element * @function */ function createTestDPIElement(){ testDPIElement = $('&lt;div/&gt;') .attr('id','dpi-test') .css({ position: 'absolute', top: '-100%', left: '-100%', height: '1in', width: '1in', border: 'red 1px solid' }); $('body').prepend(testDPIElement); } /** * @constructor */ function Display(_document){ this.document = _document; this._setScreenDPI(); } /** * @property {Element} * @private */ var testDPIElement; /** * @method * @return the screen DPI */ Display.prototype._setScreenDPI = function(){ createTestDPIElement(); if (testDPIElement[0].offsetWidth !== testDPIElement[0].offsetHeight) throw new Error('FATAL ERROR: Bad Screen DPI !'); this.screenDPI = testDPIElement[0].offsetWidth; }; /** * @method * @param DOMDocument _document * @param String unit * * @return `_document` body height in `unit` unit */ Display.prototype.height = function(unit){ if (!unit) throw new Error('Explicit unit for getting document height is required'); var pixels = $('body',this.document).height(); if (unit === 'px') return pixels; if (unit === 'mm') return this.px2mm(pixels); }; /** * Converts pixels amount to milimeters, in function of current display DPI * * Calculus rule * 1 dpi := pixel / inch * 1 in = 254 mm * size in mm = pixels * 254 / DPI * * @method * @param {Number} px The amount of pixels to Converts * @return {Number} The amount of milimeters converted */ Display.prototype.px2mm = function(px){ if (!this.screenDPI) throw new Error('Screen DPI is not defined. Is Display object instantied ?'); return px * 254 / this.screenDPI; }; /** * Converts milimeters amount in pixels, in function of current display DPI * * Calculus rule * 1 dpi := pixel / inch * 1 in = 254 mm * size in px = mm * DPI / 254 * * @method * @param {Number} mm The amount of milimeters to converts * @return {Number} px The amount of pixels converted */ Display.prototype.mm2px = function(mm){ if (!this.screenDPI) throw new Error('Screen DPI is not defined. Is Display object instantied ?'); return mm * this.screenDPI / 254; }; module.exports = Display; × Search results Close www.github.com/sirap-group "},"classes_Page.js.html":{"id":"classes_Page.js.html","title":"Source: classes/Page.js","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Source: classes/Page.js 'use strict'; var supportedFormats = require('../utils/page-formats'); var InvalidOrientationLabelError = (function(){ /** * @constructor InvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation label * @param {string} label The invalid orientation label */ function InvalidOrientationLabelError(label){ this.name = 'InvalidOrientationLabelError'; this.message = label + ' is an invalid orientation label !'; this.stack = (new Error()).stack; } InvalidOrientationLabelError.prototype = new Error; return InvalidOrientationLabelError; })(); /** * @constructor * @param {String} formatLabel A supported format mabel. For example: `A4`. * @param {Sring} orientation An orientation in `('portrait','landscape')`. * @param {Number} rank The page rank `(1..n)` * @param {HTMLDivElement} wrappedPageDiv The `div[data-paginator]` HTMLDivElement */ function Page(formatLabel, orientation, rank, wrappedPageDiv){ this._content = null; this.rank = null; this.format(formatLabel); this.orientate(orientation); if (rank !== undefined) { this.rank = rank; } if (wrappedPageDiv !== undefined || wrappedPageDiv !== null) { this.content(wrappedPageDiv); } } /** * Getter-setter for page div content Element * @method * @param {DOMElement} The content to fill the page * @return {DOMElement|void} The page div Element to return in getter usage */ Page.prototype.content = function(wrappedPageDiv){ if (wrappedPageDiv === undefined) { return this._content; } else { this._content = wrappedPageDiv; } }; /** * Append the given node list to the page content. * @method * @param {Array}&lt;Node&gt; nodes The nodes to insert. * @returns {Page} `this` page instance. */ Page.prototype.append = function(nodes){ $(nodes).appendTo(this.content()); return this; }; /** * Prepend the given node list to the page content. * @method * @param {Array}&lt;Node&gt; nodes The nodes to insert. * @returns {Page} `this` page instance. */ Page.prototype.prepend = function(nodes){ $(nodes).prependTo(this.content()); return this; }; /** * getter-setter of the orientation * @method * @param &lt;string&gt; orientation * @return void */ Page.prototype.orientate = function(orientation){ var inValidType = (typeof(orientation) !== 'string'); var inValidLabel = (orientation.toLowerCase() !== 'portrait' &amp;&amp; orientation.toLowerCase() !== 'paysage') ; if (inValidType || inValidLabel) throw new InvalidOrientationLabelError(orientation); this.orientation = orientation; if (orientation === 'portrait') { this.width = this.format().short; this.height = this.format().long; } else { this.width = this.format().long; this.height = this.format().short; } }; /** * @method getter-setter for the page format * @param {String} label The format's label to set if used as setter, undefined to use it as getter * @return {Format | Page} * - the defined format for the page if used as getter, * - or the page instance if used as setter (to permit chaining) */ Page.prototype.format = function(label){ if (label !== undefined) { if (!supportedFormats[label]) throw new Error('Format '+ label +' is not supported yet.'); this._format = supportedFormats[label]; return this; } else return this._format; }; module.exports = Page; × Search results Close www.github.com/sirap-group "},"classes_Paginator.js.html":{"id":"classes_Paginator.js.html","title":"Source: classes/Paginator.js","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Source: classes/Paginator.js /** * Paginator class module * @module classes/Paginator */ 'use strict'; // var _ = require('lodash'); var Display = require('./Display'); var Page = require('./Page'); var parser = require('./paginator/parser'); var errors = require('./paginator/errors'), InvalidPageRankError = errors.InvalidPageRankError; /** * Paginator is the page manager * @constructor * @param {string} pageFormatLabel The label of the paper format for all pages. For example, 'A4' * @param {string} pageOrientation The label of the orientation for all pages. May be 'portait' or 'landscape' * @param {DOMDocument} doc The document given by editor.getDoc() of the tinymce API * * @example paginator = new Paginator('A4','portait', editor.getDoc()); * * @see utils/page-formats */ function Paginator(pageFormatLabel, pageOrientation, ed){ editor = ed; /** * The DOMDocument given in the constructor * @property {DOMDocument} * @private */ this._document = ed.getDoc(); /** * The Display to manage screen and dimensions * @property {Display} * @private */ this._display = new Display(this._document); /** * The default abstract page from all real pages inherits * @property {Page} * @private */ this._defaultPage = new Page(pageFormatLabel, pageOrientation); /** * The body element of the full document * @property {Element} * @private */ this._body = this._document.getElementsByTagName('body'); } /** * The current page * @property {Page} * @private */ var currentPage; /** * The list of pages * @property {Array} * @private */ var pages = []; /** * Current editor * @property {Editor} * @private */ var editor; /** * Initialize the paginator. The editor and its content has to be loaded before initialize the paginator * @method * @return void */ Paginator.prototype.init = function(){ function findPageWrappers(){ return $('div[data-paginator-page-rank]',that._body); } var that = this; // search the paginator page wrappers var wrappedPages = findPageWrappers(); var wrapper = _createEmptyDivWrapper.call(this,1); // wrap unwrapped content if (!wrappedPages.length){ $(this._body).wrapInner(wrapper); wrappedPages = findPageWrappers(); } pages = []; $.each(wrappedPages,function(i,el){ pages.push(new Page(that._defaultPage.format().label, that._defaultPage.orientation, i+1, el)); }); }; /** * Get the current page * @method * @return {Page} the current page loaded in editor */ Paginator.prototype.getCurrentPage = function(){ return currentPage; }; /** * Get the page with the given rank * @method * @param {Number} rank The requested page rank * @return {Page} The requested page * @throws {Error} * @throws {InvalidPageRankError} */ Paginator.prototype.getPage = function(rank){ try{ rank = Number(rank); } catch(err){ throw new InvalidPageRankError(rank); } if (!pages.length) throw new Error('Paginator pages length in null. Can\\'t iterate on it.'); var ret; var isLower = rank-1 &lt; 0; var isGreater = rank-1 &gt; pages.length; if (isLower || isGreater) throw new InvalidPageRankError(rank); else { $.each(pages,function(i,page){ if (page.rank === rank) ret = page; }); return ret; } }; /** * Get all pages in paginator * @method * @return {Array&lt;Page&gt;} all paginator pages */ Paginator.prototype.getPages = function(){ return pages; }; /** * Return the previous page * @method * @return {Page} The previous page */ Paginator.prototype.getPrevious = function(){ try { return this.getPage(this.getCurrentPage().rank-1); } catch(err) { return null; } }; /** * Get the next page * @method * @return {Page} The next page */ Paginator.prototype.getNext = function(){ try { return this.getPage(this.getCurrentPage().rank+1); } catch(err) { return null; } }; /** * Navigate to the given page * @method * @param {Page} the page to navigate to * @return void */ Paginator.prototype.gotoPage = function(toPage){ /** * Set cursor location to the bottom of the destination page * @function * @inner * @return void */ function focusToBottom(){ /** * Get all text nodes from a given node * @function * @inner * @param {Node} node The parent, given node * @param {number} nodeType The number matching the searched node type * @param {array} result The result passed for recursive iteration */ function getTextNodes(node, nodeType, result){ var children = node.childNodes; nodeType = nodeType ? nodeType : 3; result = !result ? [] : result; if (node.nodeType === nodeType) { result.push(node); } if (children) { for (var i=0; i&lt;children.length; i++) { result = getTextNodes(children[i], nodeType, result); } } return result; } // get all Textnodes from lastchild, calc length var content, lastChild, textNodes, lastNode, locationOffset, cursorLocation; content = toPage.content(); if (content.length) { lastChild = content[0].lastChild; } else { lastChild = content.lastChild; } if (lastChild) { textNodes = getTextNodes(lastChild) ; if (textNodes.length) { lastNode = textNodes[textNodes.length-1]; locationOffset = lastNode.textContent.length; } else { lastNode = lastChild; locationOffset = 0; } } else { lastNode = content; locationOffset = 0; } // set Cursor to last position editor.selection.setCursorLocation(lastNode, locationOffset); } var fromPage = currentPage; if (!toPage) throw new Error('Cant navigate to undefined page'); if (toPage !== fromPage) { // Show the destination page $(toPage.content()).css({ 'display': 'block' }); // Hide all other pages $.each(pages,function(i, loopPage){ if (toPage.rank !== loopPage.rank) { $(loopPage.content()).css({ 'display': 'none' }); } }); // Move cursor to the end of the destination page focusToBottom(); // set the page as current page currentPage = toPage; editor.dom.fire(editor.getDoc(),'PageChange',{ fromPage: fromPage, toPage: toPage }); } }; /** * Go to the page having the focus * @method * @return void */ Paginator.prototype.gotoFocusedPage = function(){ var focusedDiv = _getFocusedPageDiv.call(this); var pageRank = $(focusedDiv).attr('data-paginator-page-rank'); var focusedPage = this.getPage(pageRank); currentPage = focusedPage; this.gotoPage(focusedPage); }; /** * Navigate to the previous page * @method * @return {Page|null} The previous page after navigation is done, null if previous page doesn'nt exist. */ Paginator.prototype.gotoPrevious = function(){ var prevPage = this.getPrevious(); if (prevPage) return this.gotoPage(prevPage); else return null; }; /** * Navigate to the next page * @method * @return {Page|null} The next page after navigation is done, null if next page doesn'nt exist. */ Paginator.prototype.gotoNext = function(){ var nextPage = this.getNext(); if (nextPage) return this.gotoPage(nextPage); else return null; }; /** * Watch the current page, to check if content overflows the page's max-height. * @method * @return void */ Paginator.prototype.watchPage = function(){ var maxHeight = _getPageInnerHeight.call(this); var currentHeight = _getPageContentHeight.call(this); if (currentHeight &gt; maxHeight) { _repage.call(this); } }; /** * Get the currently focused page div * @method * @private * @return {Element} The parent div element having an attribute data-paginator * @throws InvalidFocusedRangeError */ var _getFocusedPageDiv = function(){ var ret, selectedElement, parents; var currentRng = editor.selection.getRng(); selectedElement = currentRng.startContainer; ret = $(selectedElement).closest('div[data-paginator=true]'); if (!ret) throw new InvalidFocusedRangeError(); return ret; }; /** * Move the overflowing content from the current page, to the next page. * Must be called when the page's content overflows. * @method * @private * @return void * * @todo If it overflows, put the content that overflows in the next page, then, check if * the text on the next page can fill the current one without overflowing. */ var _repage = function(){ console.info('repaging...'); var currentRng = editor.selection.getRng(); var children = $(currentPage.content()).children(); var lastBlock = children[children.length - 1]; var nextPage = this.getNext() || _createNextPage.call(this); switch (lastBlock.nodeName) { case 'DIV': case 'P': // Prepend element to page $(lastBlock).prependTo($(nextPage.content())); // Append page to document $(nextPage.content()).appendTo(this._body); // Goto nextPage this.gotoNext(); break; default: alert('Une erreur est survenue dans le plugin de pagination. Merci de visionner l\\'erreur dans la console et de déclarer cette erreur au support «support@sirap.fr»'); throw new Error('Unsupported block type for repaging: '+lastBlock.nodeName); } }; /** * Get the current computed padding * @method * @private * @return {object} */ var _getDocPadding = function(){ var that = this; return { top: $(that._body).css('padding-top'), right: $(that._body).css('padding-right'), bottom: $(that._body).css('padding-bottom'), left: $(that._body).css('padding-left') }; }; /** * Compute the page inner height in pixels. It must maches the height of the `div[data-paginator]` block. * @method * @private * @return {Number} The resulted height in pixels. * * @todo Understand why the dirtyfix of the bug in border-bottom pdf rendering. */ var _getPageInnerHeight = function(){ var outerHeight = Number(this._display.mm2px(this._defaultPage.height)*10); // @TODO (*10) is a bug fix var docPadding = _getDocPadding.call(this); var paddingTop = Number(docPadding.top.split('px').join('')); var paddingBottom = Number(docPadding.bottom.split('px').join('')); var innerHeight = outerHeight - paddingTop - paddingBottom; return Math.ceil(innerHeight-1); // -1 is the dirty fix mentionned in the todo tag }; /** * Compute the real height of the page's content. It must equals the page inner height, except the time where the content overflows it, juste before to be repaged by the `Paginator::_repage()` method that bring back the content height to the page inner one. * @method * @private * @return {Number} The resulted height in pixels. */ var _getPageContentHeight = function(){ return Number($(currentPage.content()).css('height').split('px').join('')); }; /** * Create an empty HTML div element to wrap the futur content to fill a new page. * @method * @private * @param {number} pageRank The page rank to put in the attribute `data-paginator-page-rank`. * @returns {HTMLDivElement} The ready to fill div element. * * @todo Replace inline CSS style rules by adding an inner page CSS class. This CSS class has to be created and versionned carefully. */ var _createEmptyDivWrapper = function(pageRank){ var that = this; return $('&lt;div&gt;').attr({ 'data-paginator': true, 'data-paginator-page-rank': pageRank }).css({ 'page-break-after': 'always', 'min-height': _getPageInnerHeight.call(that), 'background': 'linear-gradient(#FFF0F5,#FFFACD)' // @TODO remove for production }); }; /** * Create the next page with or without a content to put in, and append it to the paginator available pages. * @method * @private * @param {NodeList} contentNodeList The optional node list to put in the new next page. * @returns {Page} The just created page */ var _createNextPage = function(contentNodeList){ var newPage; var nextRank = (currentPage) ? (currentPage.rank+1) : 1 ; var divWrapper = _createEmptyDivWrapper.call(this,nextRank); if (contentNodeList) { $(contentNodeList).appendTo(divWrapper); } newPage = new Page(this._defaultPage.format().label, this._defaultPage.orientation, nextRank, divWrapper[0]); pages.push(newPage); return newPage; }; /** * Paginator class */ module.exports = Paginator; × Search results Close www.github.com/sirap-group "},"main.js.html":{"id":"main.js.html","title":"Source: main.js","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Source: main.js 'use strict'; /** * plugin.js * * Released under LGPL License. * Copyright (c) 2015 SIRAP SAS All rights reserved * * License: http://www.tinymce.com/license * Contributing: http://www.tinymce.com/contributing */ /** * plugin.js Tinymce plugin paginate * @file plugin.js * @module * @name tinycmce-plugin-paginate * @description Plugin for tinymce wysiwyg HTML editor that provide pagination in the editor. * @link https://github.com/sirap-group/tinymce-plugin-paginate * @author Rémi Becheras * @author Groupe SIRAP * @license GNU GPL-v2 http://www.tinymce.com/license * @listens tinymce.editor~event:init * @listens tinymce.editor~event:change * @listens tinymce.editor~event:SetContent * @listens tinymce.editor~event:NodeChange * @listens tinymce.editor.document~event:PageChange * @version 1.0.0 */ /*global tinymce:true */ var Paginator = require('./classes/Paginator'); var ui = require('./utils/ui'); tinymce.PluginManager.add('paginate', function(editor) { /** * Debug all useful editor events to see the order of their happen * @function * @private */ function _debugEditorEvents(){ var myevents = []; var mycount = { init: 0, change: 0, nodechange: 0, setcontent: 0 }; editor.on('init',function(evt){ console.log(editor); myevents.push({'init':evt}); mycount.init ++; console.log(myevents,mycount); }); editor.on('change',function(evt){ myevents.push({'change':evt}); mycount.change ++; console.log(myevents,mycount); }); editor.on('NodeChange',function(evt){ myevents.push({'NodeChange':evt}); mycount.nodechange ++; console.log(myevents,mycount); }); editor.on('SetContent',function(evt){ myevents.push({'SetContent':evt}); mycount.setcontent ++; console.log(myevents,mycount); }); window.logEvents = myevents; window.logCount = mycount; } function onPageChange(evt){ ui.updatePageRankInput(evt.toPage.rank); } /** * A 'Paginator' object to handle all paginating behaviors. * @var {Paginator} paginator * @global */ var paginator; /** * A 'Display' object to handle graphics behaviors for the paginator needs. * @var {Display} display * @private */ var display; /** * Is set to true when paginator is initialized. * @var {Boolean} paginatorStartListening * @private */ var paginatorStartListening = false; editor.once('init',function(){ paginator = new Paginator('A4','portrait', editor); !paginatorStartListening &amp;&amp; paginator.init(); paginatorStartListening = true; ui.appendNavigationButtons(paginator); editor.dom.bind(editor.getDoc(),'PageChange',onPageChange); }); editor.once('change',function(){ paginatorStartListening = !!paginator; paginatorStartListening &amp;&amp; paginator.init(); }); editor.on('change',function(){ paginatorStartListening &amp;&amp; paginator.watchPage(); }); editor.on('SetContent',function(){ // paginatorStartListening &amp;&amp; paginator.init(); }); editor.on('NodeChange',function(){ if (paginatorStartListening) { try { paginator.gotoFocusedPage(); } catch (e) { console.info('Can\\'t go to focused page now.'); console.error(e.stack); } } }); }); × Search results Close www.github.com/sirap-group "},"utils_page-formats.js.html":{"id":"utils_page-formats.js.html","title":"Source: utils/page-formats.js","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Source: utils/page-formats.js /** * page-formats module * @module utils/page-formats * @type array&lt;Format&gt; * @description When required, this module exports an array of formats supported by the application */ 'use strict'; /** * Define a page format * @constructor * @param {string} label The format's label * @param {number} long The format's long dimension in milimeters * @param {number} short The format's short dimension in milimeters */ function Format(label,long,short){ this.label = label; this.long = long; this.short = short; } /** * Register the only formats supported now by the application * @var supportedFormats * @global * * @todo this should be a plugin parameter defined in the setup function of the editor */ var supportedFormats = { 'A4': { long: '297', short: '210' } }; var exp = []; $.each(supportedFormats,function(label,format){ exp[label] = new Format(label, format.long, format.short); }); module.exports = exp; × Search results Close www.github.com/sirap-group "},"utils_ui.js.html":{"id":"utils_ui.js.html","title":"Source: utils/ui.js","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Source: utils/ui.js /** * ui module provide ui functions * @module utils/ui */ 'use strict'; /** * Append &quot;previous page&quot; and &quot;next page&quot; navigation buttons * @function appendNavigationButtons * @static * @param {Paginator} paginator The instancied paginator binded to the matched editor. * @returns void */ exports.appendNavigationButtons = function(paginator){ /** * Validate input page rank and request a page change if input is valid * @callback * @param {Event} evt The change callback event * @returns void */ function onInputRankChanges(evt){ var toPage; var rank = evt.target.valueAsNumber; var actualRank = paginator.getCurrentPage().rank; if (rank !== actualRank) { try { toPage = paginator.getPage(rank); paginator.gotoPage(toPage); } catch (e) { if (e instanceof require('../classes/paginator/errors').InvalidPageRankError) { alert('Il n\\'y a pas de page #'+rank); console.log($(this)); $(this).val(actualRank); } else throw e; } } } var navbar; var navbarElements = {}; var body = $('body'); var btnSelector = '&lt;a&gt;&lt;/a&gt;'; var btnCommonClasses = 'btn glyphicon'; var btnCommonStyles = {'background': 'white', 'width':'100%', 'top':'0'}; // Create a div vertical wrapper to append nav elements into navbar = $('&lt;div&gt;&lt;/div&gt;').css({ 'width': '60px', 'position': 'absolute', '-moz-box-shadow': '0px 0px 10px 10px #000000', '-webkit-box-shadow': '0px 0px 10px 10px #000000', '-o-box-shadow': '0px 0px 10px 10px #000000', 'box-shadow': '0px 0px 10px 10px #000000', 'filter':'progid:DXImageTransform.Microsoft.Shadow(color=#000000, Direction=NaN, Strength=10)', '-moz-border-radius': '50%', '-webkit-border-radius': '50%', 'border-radius': '50%', 'top': (window.screen.height/2 -35)+'px', 'right': '40px', 'z-index': '999' }).appendTo(body); // navigate to previous page navbarElements.btnPrevious = $(btnSelector) .attr('href','javascript:void(0)') .css($.extend(btnCommonStyles,{ 'border-top-left-radius': '50%', 'border-top-right-radius': '50%', 'border-bottom-left-radius': '0', 'border-bottom-right-radius': '0' })) .addClass(btnCommonClasses + ' glyphicon-chevron-up') .click(function(){ paginator.gotoPrevious(); }) .appendTo(navbar) ; // input to show and control current page navbarElements.inputRank = $('&lt;input&gt;&lt;/input&gt;') .attr('type','number').attr('id','input-rank') .css({ 'width': '100%', 'line-height': '30px', 'text-align': 'center' }) .change(onInputRankChanges).appendTo(navbar) ; // navigate to next page navbarElements.btnNext = $(btnSelector) .attr('href','javascript:void(0)') .css($.extend(btnCommonStyles,{ 'width': '100%', 'border-top-left-radius': '0', 'border-top-right-radius': '0', 'border-bottom-left-radius': '50%', 'border-bottom-right-radius': '50%' })) .addClass(btnCommonClasses + ' glyphicon-chevron-down') .click(function(){ paginator.gotoNext() }) .appendTo(navbar) ; }; exports.updatePageRankInput = function(rank){ $('#input-rank').val(rank); }; × Search results Close www.github.com/sirap-group "},"global.html":{"id":"global.html","title":"Global","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Global Members module:classes/Paginator Paginator class Source: classes/Paginator.js, line 465 paginator :Paginator A 'Paginator' object to handle all paginating behaviors. Type: Paginator Source: main.js, line 83 supportedFormats Register the only formats supported now by the application Source: utils/page-formats.js, line 23 To Do: this should be a plugin parameter defined in the setup function of the editor &lt;private&gt; testDPIElement Properties: Type Description Element Source: classes/Display.js, line 33 Methods createTestDPIElement() Create the test DPI element Source: classes/Display.js, line 7 getter-setter for the page format(label) Parameters: Name Type Description label String The format's label to set if used as setter, undefined to use it as getter Source: classes/Page.js, line 104 Returns: - the defined format for the page if used as getter, - or the page instance if used as setter (to permit chaining) Type Format | Page × Search results Close www.github.com/sirap-group "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Modules Classes Display InvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation label Paginator Format Page × Search results Close www.github.com/sirap-group "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Classes Classes Display InvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation label Paginator Format Page × Search results Close www.github.com/sirap-group "},"index.html":{"id":"index.html","title":"Index","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement × Search results Close www.github.com/sirap-group "},"Display.html":{"id":"Display.html","title":"Class: Display","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Class: Display Display new Display() Source: classes/Display.js, line 24 Methods _setScreenDPI() Source: classes/Display.js, line 39 Returns: the screen DPI height(DOMDocument, String) Parameters: Name Type Description DOMDocument _document String unit Source: classes/Display.js, line 56 Returns: `_document` body height in `unit` unit mm2px(mm) Converts milimeters amount in pixels, in function of current display DPI Calculus rule 1 dpi := pixel / inch 1 in = 254 mm size in px = mm * DPI / 254 Parameters: Name Type Description mm Number The amount of milimeters to converts Source: classes/Display.js, line 95 Returns: px The amount of pixels converted Type Number px2mm(px) Converts pixels amount to milimeters, in function of current display DPI Calculus rule 1 dpi := pixel / inch 1 in = 254 mm size in mm = pixels * 254 / DPI Parameters: Name Type Description px Number The amount of pixels to Converts Source: classes/Display.js, line 77 Returns: The amount of milimeters converted Type Number × Search results Close www.github.com/sirap-group "},"InvalidOrientationLabelError%20Must%20be%20thrown%20when%20trying%20to%20orientate%20a%20page%20with%20an%20invalid%20orientation%20label.html":{"id":"InvalidOrientationLabelError%20Must%20be%20thrown%20when%20trying%20to%20orientate%20a%20page%20with%20an%20invalid%20orientation%20label.html","title":"Class: InvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation label","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Class: InvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation label InvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation label new InvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation label(label) Parameters: Name Type Description label string The invalid orientation label Source: classes/Page.js, line 7 × Search results Close www.github.com/sirap-group "},"module-classes_Paginator.html":{"id":"module-classes_Paginator.html","title":"Module: classes/Paginator","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Module: classes/Paginator Paginator class module Source: classes/Paginator.js, line 1 Classes Paginator Members &lt;private, inner&gt; currentPage The current page Properties: Type Description Page Source: classes/Paginator.js, line 63 &lt;private, inner&gt; editor Current editor Properties: Type Description Editor Source: classes/Paginator.js, line 77 &lt;private, inner&gt; pages The list of pages Properties: Type Description Array Source: classes/Paginator.js, line 70 Methods &lt;private, inner&gt; _createEmptyDivWrapper(pageRank) Create an empty HTML div element to wrap the futur content to fill a new page. Parameters: Name Type Description pageRank number The page rank to put in the attribute `data-paginator-page-rank`. Source: classes/Paginator.js, line 431 To Do: Replace inline CSS style rules by adding an inner page CSS class. This CSS class has to be created and versionned carefully. Returns: The ready to fill div element. Type HTMLDivElement &lt;private, inner&gt; _createNextPage(contentNodeList) Create the next page with or without a content to put in, and append it to the paginator available pages. Parameters: Name Type Description contentNodeList NodeList The optional node list to put in the new next page. Source: classes/Paginator.js, line 450 Returns: The just created page Type Page &lt;private, inner&gt; _getDocPadding() Get the current computed padding Source: classes/Paginator.js, line 382 Returns: Type object &lt;private, inner&gt; _getFocusedPageDiv() Get the currently focused page div Source: classes/Paginator.js, line 329 Throws: InvalidFocusedRangeError Returns: The parent div element having an attribute data-paginator Type Element &lt;private, inner&gt; _getPageContentHeight() Compute the real height of the page's content. It must equals the page inner height, except the time where the content overflows it, juste before to be repaged by the `Paginator::_repage()` method that bring back the content height to the page inner one. Source: classes/Paginator.js, line 418 Returns: The resulted height in pixels. Type Number &lt;private, inner&gt; _getPageInnerHeight() Compute the page inner height in pixels. It must maches the height of the `div[data-paginator]` block. Source: classes/Paginator.js, line 400 To Do: Understand why the dirtyfix of the bug in border-bottom pdf rendering. Returns: The resulted height in pixels. Type Number &lt;private, inner&gt; _repage() Move the overflowing content from the current page, to the next page. Must be called when the page's content overflows. Source: classes/Paginator.js, line 351 To Do: If it overflows, put the content that overflows in the next page, then, check if the text on the next page can fill the current one without overflowing. Returns: void × Search results Close www.github.com/sirap-group "},"module-classes_Paginator-Paginator.html":{"id":"module-classes_Paginator-Paginator.html","title":"Class: Paginator","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Class: Paginator classes/Paginator~ Paginator new Paginator(pageFormatLabel, pageOrientation, doc) Paginator is the page manager Parameters: Name Type Description pageFormatLabel string The label of the paper format for all pages. For example, 'A4' pageOrientation string The label of the orientation for all pages. May be 'portait' or 'landscape' doc DOMDocument The document given by editor.getDoc() of the tinymce API Source: classes/Paginator.js, line 28 See: utils/page-formats Example paginator = new Paginator('A4','portait', editor.getDoc()); Members &lt;private&gt; _body The body element of the full document Properties: Type Description Element Source: classes/Paginator.js, line 54 &lt;private&gt; _defaultPage The default abstract page from all real pages inherits Properties: Type Description Page Source: classes/Paginator.js, line 48 &lt;private&gt; _display The Display to manage screen and dimensions Properties: Type Description Display Source: classes/Paginator.js, line 42 &lt;private&gt; _document The DOMDocument given in the constructor Properties: Type Description DOMDocument Source: classes/Paginator.js, line 36 Methods getCurrentPage() Get the current page Source: classes/Paginator.js, line 112 Returns: the current page loaded in editor Type Page getNext() Get the next page Source: classes/Paginator.js, line 173 Returns: The next page Type Page getPage(rank) Get the page with the given rank Parameters: Name Type Description rank Number The requested page rank Source: classes/Paginator.js, line 124 Throws: Error InvalidPageRankError Returns: The requested page Type Page getPages() Get all pages in paginator Source: classes/Paginator.js, line 151 Returns: all paginator pages Type Array.&lt;Page&gt; getPrevious() Return the previous page Source: classes/Paginator.js, line 160 Returns: The previous page Type Page gotoFocusedPage() Go to the page having the focus Source: classes/Paginator.js, line 279 Returns: void gotoNext() Navigate to the next page Source: classes/Paginator.js, line 303 Returns: The next page after navigation is done, null if next page doesn'nt exist. Type Page | null gotoPage(the) Navigate to the given page Parameters: Name Type Description the Page page to navigate to Source: classes/Paginator.js, line 187 Returns: void gotoPrevious() Navigate to the previous page Source: classes/Paginator.js, line 292 Returns: The previous page after navigation is done, null if previous page doesn'nt exist. Type Page | null init() Initialize the paginator. The editor and its content has to be loaded before initialize the paginator Source: classes/Paginator.js, line 84 Returns: void watchPage() Watch the current page, to check if content overflows the page's max-height. Source: classes/Paginator.js, line 314 Returns: void × Search results Close www.github.com/sirap-group "},"module-tinycmce-plugin-paginate.html":{"id":"module-tinycmce-plugin-paginate.html","title":"Module: tinycmce-plugin-paginate","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Module: tinycmce-plugin-paginate Plugin for tinymce wysiwyg HTML editor that provide pagination in the editor. Version: 1.0.0 Author: Rémi Becheras Groupe SIRAP License: GNU GPL-v2 http://www.tinymce.com/license Source: main.js, line 13 Members &lt;private, inner&gt; display :Display A 'Display' object to handle graphics behaviors for the paginator needs. Type: Display Source: main.js, line 90 &lt;private, inner&gt; paginatorStartListening :Boolean Is set to true when paginator is initialized. Type: Boolean Source: main.js, line 97 × Search results Close www.github.com/sirap-group "},"module-utils_page-formats.html":{"id":"module-utils_page-formats.html","title":"Module: utils/page-formats","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Module: utils/page-formats When required, this module exports an array of formats supported by the application Source: utils/page-formats.js, line 1 Classes Format × Search results Close www.github.com/sirap-group "},"module-utils_page-formats-Format.html":{"id":"module-utils_page-formats-Format.html","title":"Class: Format","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Class: Format utils/page-formats~ Format new Format(label, long, short) Define a page format Parameters: Name Type Description label string The format's label long number The format's long dimension in milimeters short number The format's short dimension in milimeters Source: utils/page-formats.js, line 17 × Search results Close www.github.com/sirap-group "},"module-utils_ui.html":{"id":"module-utils_ui.html","title":"Module: utils/ui","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Module: utils/ui ui module provide ui functions Source: utils/ui.js, line 1 Methods &lt;static&gt; appendNavigationButtons(paginator) Append &quot;previous page&quot; and &quot;next page&quot; navigation buttons Parameters: Name Type Description paginator Paginator The instancied paginator binded to the matched editor. Source: utils/ui.js, line 8 Returns: void × Search results Close www.github.com/sirap-group "},"Page.html":{"id":"Page.html","title":"Class: Page","body":" tinymce-plugin-paginate Modules classes/Paginatortinycmce-plugin-paginateutils/page-formatsutils/ui Classes DisplayInvalidOrientationLabelError Must be thrown when trying to orientate a page with an invalid orientation labelclasses/Paginator~Paginatorutils/page-formats~FormatPage Global createTestDPIElementgetter-setter for the page formatpaginatorsupportedFormatstestDPIElement Class: Page Page new Page(formatLabel, orientation, rank, wrappedPageDiv) Parameters: Name Type Description formatLabel String A supported format mabel. For example: `A4`. orientation Sring An orientation in `('portrait','landscape')`. rank Number The page rank `(1..n)` wrappedPageDiv HTMLDivElement The `div[data-paginator]` HTMLDivElement Source: classes/Page.js, line 27 Methods append() Append the given node list to the page content. Parameters: Name Type Description Array nodes The nodes to insert. Source: classes/Page.js, line 63 Returns: `this` page instance. Type Page content(The) Getter-setter for page div content Element Parameters: Name Type Description The DOMElement content to fill the page Source: classes/Page.js, line 49 Returns: The page div Element to return in getter usage Type DOMElement | void orientate() getter-setter of the orientation Parameters: Name Type Description orientation Source: classes/Page.js, line 85 Returns: void prepend() Prepend the given node list to the page content. Parameters: Name Type Description Array nodes The nodes to insert. Source: classes/Page.js, line 74 Returns: `this` page instance. Type Page × Search results Close www.github.com/sirap-group "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
